:root {
  --bg:#ffffff; --fg:#111111; --bar:#ffffff; --bar-border:#e5e7eb;
  --btn-bg:#f3f4f6; --btn-fg:#111111;
  --btn-active-bg:#111111; --btn-active-fg:#ffffff;
  --btn-hover-bg:#cbd5e1; --btn-hover-fg:#0f172a;
  --shadow:0 1px 2px rgba(0,0,0,.06), 0 4px 12px rgba(0,0,0,.06);
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#181818; --fg:#e0e0e0; --bar:#202020; --bar-border:#2c2c2c;
    --btn-bg:#2a2a2a; --btn-fg:#e0e0e0;
    --btn-active-bg:#e0e0e0; --btn-active-fg:#181818;
    --btn-hover-bg:#475569; --btn-hover-fg:#f8fafc;
    --shadow:0 1px 2px rgba(0,0,0,.5), 0 4px 12px rgba(0,0,0,.35);
  }
}
:root[data-theme="light"]{ --bg:#fff; --fg:#111; --bar:#fff; --bar-border:#e5e7eb; --btn-bg:#f3f4f6; --btn-fg:#111; --btn-active-bg:#111; --btn-active-fg:#fff; --btn-hover-bg:#cbd5e1; --btn-hover-fg:#0f172a; --shadow:0 1px 2px rgba(0,0,0,.06), 0 4px 12px rgba(0,0,0,.06); }
:root[data-theme="dark"]{ --bg:#181818; --fg:#e0e0e0; --bar:#202020; --bar-border:#2c2c2c; --btn-bg:#2a2a2a; --btn-fg:#e0e0e0; --btn-active-bg:#e0e0e0; --btn-active-fg:#181818; --btn-hover-bg:#475569; --btn-hover-fg:#f8fafc; --shadow:0 1px 2px rgba(0,0,0,.5), 0 4px 12px rgba(0,0,0,.35); }

html,body{height:100%}
body{ margin:0; background:var(--bg); color:var(--fg); font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"; line-height:1.5; transition:background-color .25s,color .25s; }

/* Topbar */
.topbar{ position:sticky; top:0; z-index:100; background:var(--bar); border-bottom:1px solid var(--bar-border); box-shadow:var(--shadow); transition:transform .25s ease; }
.topbar.is-hidden{ transform:translateY(-100%); }
.topbar-inner{ height:56px; display:flex; align-items:center; justify-content:flex-end; padding-left:clamp(12px,5vw,48px); padding-right:16px; }
.right-controls{ display:inline-flex; align-items:center; gap:8px; }

/* 確保主題按鈕不會被覆蓋或透明 */
.menu{ position:relative; z-index:101; }
.menu-trigger{ appearance:none; border:1px solid var(--bar-border); background:var(--btn-bg); color:var(--btn-fg); padding:6px 12px; border-radius:999px; cursor:pointer; }
.menu[data-state="open"] .menu-trigger{ background:var(--btn-active-bg); color:var(--btn-active-fg); }
.menu-list{ position:absolute; right:0; top:44px; list-style:none; margin:8px 0 0; padding:6px; background:var(--bar); border:1px solid var(--bar-border); border-radius:12px; box-shadow:var(--shadow); min-width:200px; display:none; }
.menu[data-state="open"] .menu-list{ display:block; }
.menu-list button{ width:100%; text-align:left; border:0; background:transparent; color:var(--fg); padding:10px 12px; border-radius:8px; cursor:pointer; font-size:14px; }
.menu-list button:hover{ background:var(--btn-hover-bg); color:var(--btn-hover-fg); }
.menu-list button[aria-checked="true"]{ background:var(--btn-active-bg); color:var(--btn-active-fg); }
.menu-list button:focus-visible{ outline:2px solid #3b82f6; outline-offset:2px; }

/* Icon button */
.icon-btn{ display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:999px; background:var(--btn-bg); color:var(--btn-fg); border:1px solid var(--bar-border); text-decoration:none; }
.icon-btn:focus-visible{ outline:2px solid #3b82f6; outline-offset:2px; }

/* 主內容區 */
.page{ padding:16px clamp(12px,5vw,48px) 64px; display:grid; place-items:center; }
.content{ width:100%; max-width:1000px; }
.image-wrap{ display:flex; justify-content:center; }
.image-wrap img{ width:100%; height:auto; display:block; border-radius:8px; }

/* 右下角浮動按鈕（導覽） */
.float-btns{ position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:10px; z-index:200; }
.fab{ appearance:none; border:1px solid var(--bar-border); background:var(--btn-bg); color:var(--btn-fg); width:44px; height:44px; border-radius:999px; box-shadow:var(--shadow); cursor:pointer; display:inline-flex; align-items:center; justify-content:center; }
.fab:focus-visible{ outline:2px solid #3b82f6; outline-offset:2px; }

/* RWD 對齊右緣為 12px */
@media (max-width:768px){
  .topbar-inner{ height:52px; padding-left:clamp(8px,3.5vw,24px); padding-right:12px; }
  .float-btns{ right:12px; bottom:12px; }
  .fab{ width:42px; height:42px; }
}

/* 平滑滾動 */
@media (prefers-reduced-motion:no-preference){ html{ scroll-behavior:smooth } }
